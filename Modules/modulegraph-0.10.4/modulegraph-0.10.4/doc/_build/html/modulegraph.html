
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>modulegraph.modulegraph — Find modules used by a script &mdash; modulegraph 0.10.4 documentation</title>
    
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '',
        VERSION:     '0.10.4',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="modulegraph 0.10.4 documentation" href="index.html" />
    <link rel="next" title="modulegraph.find_modules — High-level module dependency finding interface" href="find_modules.html" />
    <link rel="prev" title="Commandline tools" href="commandline.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="find_modules.html" title="modulegraph.find_modules — High-level module dependency finding interface"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="commandline.html" title="Commandline tools"
             accesskey="P">previous</a> |</li>
        <li><a href="index.html">modulegraph 0.10.4 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-modulegraph.modulegraph">
<span id="modulegraph-modulegraph-find-modules-used-by-a-script"></span><h1><a class="reference internal" href="#module-modulegraph.modulegraph" title="modulegraph.modulegraph: Find modules used by a script"><tt class="xref py py-mod docutils literal"><span class="pre">modulegraph.modulegraph</span></tt></a> &#8212; Find modules used by a script<a class="headerlink" href="#module-modulegraph.modulegraph" title="Permalink to this headline">¶</a></h1>
<p>This module defines <a class="reference internal" href="#modulegraph.modulegraph.ModuleGraph" title="modulegraph.modulegraph.ModuleGraph"><tt class="xref py py-class docutils literal"><span class="pre">ModuleGraph</span></tt></a>, which is used to find
the dependencies of scripts using bytecode analysis.</p>
<p>A number of APIs in this module refer to filesystem path. Those paths can refer to
files inside zipfiles (for example when there are zipped egg files on <a class="reference external" href="http://docs.python.org/library/sys.html#sys.path" title="(in Python v2.7)"><tt class="xref py py-data docutils literal"><span class="pre">sys.path</span></tt></a>).
Filenames referring to entries in a zipfile are not marked any way, if <tt class="docutils literal"><span class="pre">&quot;somepath.zip&quot;</span></tt>
refers to a zipfile, that is <tt class="docutils literal"><span class="pre">&quot;somepath.zip/embedded/file&quot;</span></tt> will be used to refer to
<tt class="docutils literal"><span class="pre">embedded/file</span></tt> inside the zipfile.</p>
<div class="section" id="the-actual-graph">
<h2>The actual graph<a class="headerlink" href="#the-actual-graph" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="modulegraph.modulegraph.ModuleGraph">
<em class="property">class </em><tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">ModuleGraph</tt><big>(</big><span class="optional">[</span><em>path</em><span class="optional">[</span>, <em>excludes</em><span class="optional">[</span>, <em>replace_paths</em><span class="optional">[</span>, <em>implies</em><span class="optional">[</span>, <em>graph</em><span class="optional">[</span>, <em>debug</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.ModuleGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new ModuleGraph object. Use the <a class="reference internal" href="#modulegraph.modulegraph.run_script" title="modulegraph.modulegraph.run_script"><tt class="xref py py-meth docutils literal"><span class="pre">run_script()</span></tt></a> method to add scripts,
and their dependencies to the graph.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>path</strong> &#8211; Python search path to use, defaults to <a class="reference external" href="http://docs.python.org/library/sys.html#sys.path" title="(in Python v2.7)"><tt class="xref py py-data docutils literal"><span class="pre">sys.path</span></tt></a></li>
<li><strong>excludes</strong> &#8211; Iterable with module names that should not be included as a dependency</li>
<li><strong>replace_paths</strong> &#8211; List of pathname rewrites <tt class="docutils literal"><span class="pre">(old,</span> <span class="pre">new)</span></tt>. When this argument is
supplied the <tt class="docutils literal"><span class="pre">co_filename</span></tt> attributes of code objects get rewritten before scanning
them for dependencies.</li>
<li><strong>implies</strong> &#8211; Implied module dependencies, a mapping from a module name to the list
of modules it depends on. Use this to tell modulegraph about dependencies that cannot
be found by code inspection (such as imports from C code or using the <a class="reference external" href="http://docs.python.org/library/functions.html#__import__" title="(in Python v2.7)"><tt class="xref py py-func docutils literal"><span class="pre">__import__()</span></tt></a>
function).</li>
<li><strong>graph</strong> &#8211; A precreated <a class="reference external" href="http://packages.python.org/altgraph/graph.html#altgraph.Graph.Graph" title="(in altgraph v0.10)"><tt class="xref py py-class docutils literal"><span class="pre">Graph</span></tt></a> object to use, the
default is to create a new one.</li>
<li><strong>debug</strong> &#8211; The <a class="reference external" href="http://packages.python.org/altgraph/objectgraph.html#altgraph.ObjectGraph.ObjectGraph" title="(in altgraph v0.10)"><tt class="xref py py-class docutils literal"><span class="pre">ObjectGraph</span></tt></a> debug level.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="modulegraph.modulegraph.run_script">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">run_script</tt><big>(</big><em>pathname</em><span class="optional">[</span>, <em>caller</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.run_script" title="Permalink to this definition">¶</a></dt>
<dd><p>Create, and return,  a node by path (not module name). The <em>pathname</em> should
refer to a Python source file and will be scanned for dependencies.</p>
<p>The optional argument <em>caller</em> is the the node that calls this script,
and is used to add a reference in the graph.</p>
</dd></dl>

<dl class="method">
<dt id="modulegraph.modulegraph.import_hook">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">import_hook</tt><big>(</big><em>name</em><span class="optional">[</span>, <em>caller</em><span class="optional">[</span>, <em>fromlist</em><span class="optional">[</span>, <em>level</em><span class="optional">]</span><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.import_hook" title="Permalink to this definition">¶</a></dt>
<dd><p>Import a module and analyse its dependencies</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>name</strong> &#8211; The module name</li>
<li><strong>caller</strong> &#8211; The node that caused the import to happen</li>
<li><strong>fromlist</strong> &#8211; The list of names to import, this is an empty list for
<tt class="docutils literal"><span class="pre">import</span> <span class="pre">name</span></tt> and a list of names for <tt class="docutils literal"><span class="pre">from</span> <span class="pre">name</span> <span class="pre">import</span> <span class="pre">a,</span> <span class="pre">b,</span> <span class="pre">c</span></tt>.</li>
<li><strong>level</strong> &#8211; The import level. The value should be <tt class="docutils literal"><span class="pre">0</span></tt> for classical Python 2
imports, <tt class="docutils literal"><span class="pre">-1</span></tt> for absolute imports and a positive number for relative imports (
where the value is the number of leading dots in the imported name).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="modulegraph.modulegraph.implyNodeReference">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">implyNodeReference</tt><big>(</big><em>node</em>, <em>other</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.implyNodeReference" title="Permalink to this definition">¶</a></dt>
<dd><p>Explictly mark that <em>node</em> depends on <em>other</em>. Other is either
a <a class="reference internal" href="#modulegraph.modulegraph.Node" title="modulegraph.modulegraph.Node"><tt class="xref py py-class docutils literal"><span class="pre">node</span></tt></a> or the name of a module that will be
searched for as if it were an absolute import.</p>
</dd></dl>

<dl class="method">
<dt id="modulegraph.modulegraph.createReference">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">createReference</tt><big>(</big><em>fromnode</em>, <em>tonode</em><span class="optional">[</span>, <em>edge_data</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.createReference" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a reference from <em>fromnode</em> to <em>tonode</em>, with optional edge data.</p>
<p>The default for <em>edge_data</em> is <tt class="docutils literal"><span class="pre">&quot;direct&quot;</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="modulegraph.modulegraph.findNode">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">findNode</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.findNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Find a node by identifier.  If a node by that identifier exists, it will be returned.</p>
<p>If a lazy node exists by that identifier with no dependencies (excluded), it will be
instantiated and returned.</p>
<p>If a lazy node exists by that identifier with dependencies, it and its
dependencies will be instantiated and scanned for additional depende</p>
</dd></dl>

<dl class="method">
<dt id="modulegraph.modulegraph.create_xref">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">create_xref</tt><big>(</big><span class="optional">[</span><em>out</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.create_xref" title="Permalink to this definition">¶</a></dt>
<dd><p>Write an HTML file to the <em>out</em> stream (defaulting to <a class="reference external" href="http://docs.python.org/library/sys.html#sys.stdout" title="(in Python v2.7)"><tt class="xref py py-data docutils literal"><span class="pre">sys.stdout</span></tt></a>).</p>
<p>The HTML file contains a textual description of the dependency graph.</p>
</dd></dl>

<dl class="method">
<dt id="modulegraph.modulegraph.graphreport">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">graphreport</tt><big>(</big><span class="optional">[</span><em>fileobj</em><span class="optional">[</span>, <em>flatpackages</em><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.graphreport" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition-todo admonition " id="index-0">
<p class="first admonition-title">Todo</p>
<p class="last">To be documented</p>
</div>
</dd></dl>

<dl class="method">
<dt id="modulegraph.modulegraph.report">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">report</tt><big>(</big><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.report" title="Permalink to this definition">¶</a></dt>
<dd><p>Print a report to stdout, listing the found modules with their
paths, as well as modules that are missing, or seem to be missing.</p>
</dd></dl>

<div class="section" id="mostly-internal-methods">
<h3>Mostly internal methods<a class="headerlink" href="#mostly-internal-methods" title="Permalink to this headline">¶</a></h3>
<p>The methods in this section should be considered as methods for subclassing at best,
please let us know if you need these methods in your code as they are on track to be
made private methods before the 1.0 release.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">The methods in this section will be refactored in a future release,
the current architecture makes it unnecessarily hard to write proper tests.</p>
</div>
<dl class="method">
<dt id="modulegraph.modulegraph.determine_parent">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">determine_parent</tt><big>(</big><em>caller</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.determine_parent" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the node of the package root voor <em>caller</em>. If <em>caller</em> is a package
this is the node itself, if the node is a module in a package this is the
node of for the package and otherwise the <em>caller</em> is not a package and
the result is <a class="reference external" href="http://docs.python.org/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-data docutils literal"><span class="pre">None</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="modulegraph.modulegraph.find_head_package">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">find_head_package</tt><big>(</big><em>parent</em>, <em>name</em><span class="optional">[</span>, <em>level</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.find_head_package" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition-todo admonition " id="index-1">
<p class="first admonition-title">Todo</p>
<p class="last">To be documented</p>
</div>
</dd></dl>

<dl class="method">
<dt id="modulegraph.modulegraph.load_tail">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">load_tail</tt><big>(</big><em>mod</em>, <em>tail</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.load_tail" title="Permalink to this definition">¶</a></dt>
<dd><p>This method is called to load the rest of a dotted name after loading the root
of a package. This will import all intermediate modules as well (using
<a class="reference internal" href="#modulegraph.modulegraph.import_module" title="modulegraph.modulegraph.import_module"><tt class="xref py py-meth docutils literal"><span class="pre">import_module()</span></tt></a>), and returns the module <a class="reference internal" href="#modulegraph.modulegraph.Node" title="modulegraph.modulegraph.Node"><tt class="xref py py-class docutils literal"><span class="pre">node</span></tt></a> for the
requested node.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">When <em>tail</em> is empty this will just return <em>mod</em>.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>mod</strong> &#8211; A start module (instance of <a class="reference internal" href="#modulegraph.modulegraph.Node" title="modulegraph.modulegraph.Node"><tt class="xref py py-class docutils literal"><span class="pre">Node</span></tt></a>)</li>
<li><strong>tail</strong> &#8211; The rest of a dotted name, can be empty</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Raises ImportError:</th></tr>
<tr><td>&nbsp;</td><td class="field-body"><p class="first">When the requested (or one of its parents) module cannot be found</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the requested module</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="modulegraph.modulegraph.ensure_fromlist">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">ensure_fromlist</tt><big>(</big><em>m</em>, <em>fromlist</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.ensure_fromlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield all submodules that would be imported when importing <em>fromlist</em>
from <em>m</em> (using <tt class="docutils literal"><span class="pre">from</span> <span class="pre">m</span> <span class="pre">import</span> <span class="pre">fromlist...</span></tt>).</p>
<p><em>m</em> must be a package and not a regular module.</p>
</dd></dl>

<dl class="method">
<dt id="modulegraph.modulegraph.find_all_submodules">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">find_all_submodules</tt><big>(</big><em>m</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.find_all_submodules" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield the filenames for submodules of in the same package as <em>m</em>.</p>
</dd></dl>

<dl class="method">
<dt id="modulegraph.modulegraph.import_module">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">import_module</tt><big>(</big><em>partname</em>, <em>fqname</em>, <em>parent</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.import_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform import of the module with basename <em>partname</em> (<tt class="docutils literal"><span class="pre">path</span></tt>) and
full name <em>fqname</em> (<tt class="docutils literal"><span class="pre">os.path</span></tt>). Import is performed by <em>parent</em>.</p>
<p>This will create a reference from the parent node to the
module node and will load the module node when it is not already
loaded.</p>
</dd></dl>

<dl class="method">
<dt id="modulegraph.modulegraph.load_module">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">load_module</tt><big>(</big><em>fqname</em>, <em>fp</em>, <em>pathname</em>, <em>(suffix</em>, <em>mode</em>, <em>type)</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.load_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Load the module named <em>fqname</em> from the given <em>pathame</em>. The
argument <em>fp</em> is either <a class="reference external" href="http://docs.python.org/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-data docutils literal"><span class="pre">None</span></tt></a>, or a stream where the
code for the Python module can be loaded (either byte-code or
the source code). The <em>(suffix, mode, type)</em> tuple are the
suffix of the source file, the open mode for the file and the
type of module.</p>
<p>Creates a node of the right class and processes the dependencies
of the <a class="reference internal" href="#modulegraph.modulegraph.Node" title="modulegraph.modulegraph.Node"><tt class="xref py py-class docutils literal"><span class="pre">node</span></tt></a> by scanning the byte-code for the node.</p>
<p>Returns the resulting <a class="reference internal" href="#modulegraph.modulegraph.Node" title="modulegraph.modulegraph.Node"><tt class="xref py py-class docutils literal"><span class="pre">node</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="modulegraph.modulegraph.scan_code">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">scan_code</tt><big>(</big><em>code</em>, <em>m</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.scan_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Scan the <em>code</em> object for module <em>m</em> and update the dependencies of
<em>m</em> using the import statemets found in the code.</p>
<p>This will automaticly scan the code for nested functions, generator
expressions and list comprehensions as well.</p>
</dd></dl>

<dl class="method">
<dt id="modulegraph.modulegraph.load_package">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">load_package</tt><big>(</big><em>fqname</em>, <em>pathname</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.load_package" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a package directory.</p>
</dd></dl>

<dl class="method">
<dt id="modulegraph.modulegraph.find_module">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">find_module</tt><big>(</big><em>name</em>, <em>path</em><span class="optional">[</span>, <em>parent</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.find_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Locates a module named <em>name</em> that is not yet part of the
graph. This method will raise <tt class="xref py py-exc docutils literal"><span class="pre">ImportError</span></tt> when
the module cannot be found or when it is already part
of the graph. The <em>name</em> can not be a dotted name.</p>
<p>The <em>path</em> is the search path used, or <a class="reference external" href="http://docs.python.org/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-data docutils literal"><span class="pre">None</span></tt></a> to
use the default path.</p>
<p>When the <em>parent</em> is specified <em>name</em> refers to a
subpackage of <em>parent</em>, and <em>path</em> should be the
search path of the parent.</p>
<p>Returns the result of the global function
<a class="reference internal" href="#modulegraph.modulegraph.find_module" title="modulegraph.modulegraph.find_module"><tt class="xref py py-func docutils literal"><span class="pre">find_module</span></tt></a>.</p>
</dd></dl>

<dl class="method">
<dt id="modulegraph.modulegraph.itergraphreport">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">itergraphreport</tt><big>(</big><span class="optional">[</span><em>name</em><span class="optional">[</span>, <em>flatpackages</em><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.itergraphreport" title="Permalink to this definition">¶</a></dt>
<dd><div class="admonition-todo admonition " id="index-2">
<p class="first admonition-title">Todo</p>
<p class="last">To be documented</p>
</div>
</dd></dl>

<dl class="method">
<dt id="modulegraph.modulegraph.replace_paths_in_code">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">replace_paths_in_code</tt><big>(</big><em>co</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.replace_paths_in_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace the filenames in code object <em>co</em> using the <em>replace_paths</em> value that
was passed to the contructor. Returns the rewritten code object.</p>
</dd></dl>

<dl class="method">
<dt id="modulegraph.modulegraph.calc_setuptools_nspackages">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">calc_setuptools_nspackages</tt><big>(</big><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.calc_setuptools_nspackages" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a mapping from package name to a list of paths where that package
can be found in <tt class="docutils literal"><span class="pre">--single-version-externally-managed</span></tt> form.</p>
<p>This method is used to be able to find those packages: these use
a magic <tt class="docutils literal"><span class="pre">.pth</span></tt> file to ensure that the package is added to <a class="reference external" href="http://docs.python.org/library/sys.html#sys.path" title="(in Python v2.7)"><tt class="xref py py-data docutils literal"><span class="pre">sys.path</span></tt></a>,
as they do not contain an <tt class="docutils literal"><span class="pre">___init__.py</span></tt> file.</p>
<p>Packages in this form are used by system packages and the &#8220;pip&#8221;
installer.</p>
</dd></dl>

</div>
</div>
<div class="section" id="graph-nodes">
<h2>Graph nodes<a class="headerlink" href="#graph-nodes" title="Permalink to this headline">¶</a></h2>
<p>The <a class="reference internal" href="#modulegraph.modulegraph.ModuleGraph" title="modulegraph.modulegraph.ModuleGraph"><tt class="xref py py-class docutils literal"><span class="pre">ModuleGraph</span></tt></a> contains nodes that represent the various types of modules.</p>
<dl class="class">
<dt id="modulegraph.modulegraph.Alias">
<em class="property">class </em><tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">Alias</tt><big>(</big><em>value</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.Alias" title="Permalink to this definition">¶</a></dt>
<dd><p>This is a subclass of string that is used to mark module aliases.</p>
</dd></dl>

<dl class="class">
<dt id="modulegraph.modulegraph.Node">
<em class="property">class </em><tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">Node</tt><big>(</big><em>identifier</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.Node" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for nodes, which provides the common functionality.</p>
<p>Nodes can by used as mappings for storing arbitrary data in the node.</p>
<p>Nodes are compared by comparing their <em>identifier</em>.</p>
</dd></dl>

<dl class="data">
<dt id="modulegraph.modulegraph.debug">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">debug</tt><a class="headerlink" href="#modulegraph.modulegraph.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Debug level (integer)</p>
</dd></dl>

<dl class="data">
<dt id="modulegraph.modulegraph.graphident">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">graphident</tt><a class="headerlink" href="#modulegraph.modulegraph.graphident" title="Permalink to this definition">¶</a></dt>
<dd><p>The node identifier, this is the value of the <em>identifier</em> argument
to the constructor.</p>
</dd></dl>

<dl class="data">
<dt id="modulegraph.modulegraph.identifier">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">identifier</tt><a class="headerlink" href="#modulegraph.modulegraph.identifier" title="Permalink to this definition">¶</a></dt>
<dd><p>The node identifier, this is the value of the <em>identifier</em> argument
to the constructor.</p>
</dd></dl>

<dl class="data">
<dt id="modulegraph.modulegraph.filename">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">filename</tt><a class="headerlink" href="#modulegraph.modulegraph.filename" title="Permalink to this definition">¶</a></dt>
<dd><p>The filename associated with this node.</p>
</dd></dl>

<dl class="data">
<dt id="modulegraph.modulegraph.packagepath">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">packagepath</tt><a class="headerlink" href="#modulegraph.modulegraph.packagepath" title="Permalink to this definition">¶</a></dt>
<dd><p>The value of <tt class="docutils literal"><span class="pre">__path__</span></tt> for this node.</p>
</dd></dl>

<dl class="data">
<dt id="modulegraph.modulegraph.code">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">code</tt><a class="headerlink" href="#modulegraph.modulegraph.code" title="Permalink to this definition">¶</a></dt>
<dd><p>The <tt class="xref py py-class docutils literal"><span class="pre">code</span> <span class="pre">object</span></tt> associated with this node</p>
</dd></dl>

<dl class="data">
<dt id="modulegraph.modulegraph.globalnames">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">globalnames</tt><a class="headerlink" href="#modulegraph.modulegraph.globalnames" title="Permalink to this definition">¶</a></dt>
<dd><p>The set of global names that are assigned to in this module. This
includes those names imported through startimports of Python modules.</p>
</dd></dl>

<dl class="data">
<dt id="modulegraph.modulegraph.startimports">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">startimports</tt><a class="headerlink" href="#modulegraph.modulegraph.startimports" title="Permalink to this definition">¶</a></dt>
<dd><p>The set of startimports this module did that could not be resolved,
ie. a startimport from a non-Python module.</p>
</dd></dl>

<dl class="method">
<dt id="modulegraph.modulegraph.__contains__">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">__contains__</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.__contains__" title="Permalink to this definition">¶</a></dt>
<dd><p>Return if there is a value associated with <em>name</em>.</p>
<p>This method is usually accessed as <tt class="docutils literal"><span class="pre">name</span> <span class="pre">in</span> <span class="pre">aNode</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="modulegraph.modulegraph.__setitem__">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">__setitem__</tt><big>(</big><em>name</em>, <em>value</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.__setitem__" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the value of <em>name</em> to <em>value</em>.</p>
<p>This method is usually accessed as <tt class="docutils literal"><span class="pre">aNode[name]</span> <span class="pre">=</span> <span class="pre">value</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="modulegraph.modulegraph.__getitem__">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">__getitem__</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value of <em>name</em>, raises <tt class="xref py py-exc docutils literal"><span class="pre">KeyError</span></tt> when
it cannot be found.</p>
<p>This method is usually accessed as <tt class="docutils literal"><span class="pre">value</span> <span class="pre">=</span> <span class="pre">aNode[name]</span></tt>.</p>
</dd></dl>

<dl class="method">
<dt id="modulegraph.modulegraph.get">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">get</tt><big>(</big><em>name</em><span class="optional">[</span>, <em>default</em><span class="optional">]</span><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the value of <em>name</em>, or the default value when it
cannot be found. The <em>default</em> is <a class="reference external" href="http://docs.python.org/library/constants.html#None" title="(in Python v2.7)"><tt class="xref py py-data docutils literal"><span class="pre">None</span></tt></a> when not specified.</p>
</dd></dl>

<dl class="method">
<dt id="modulegraph.modulegraph.infoTuple">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">infoTuple</tt><big>(</big><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.infoTuple" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a tuple with information used in the <tt class="xref py py-func docutils literal"><span class="pre">repr()</span></tt>
output for the node. Subclasses can add additional informations
to the result.</p>
</dd></dl>

<dl class="class">
<dt id="modulegraph.modulegraph.AliasNode">
<em class="property">class </em><tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">AliasNode</tt><big>(</big><em>name</em>, <em>node</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.AliasNode" title="Permalink to this definition">¶</a></dt>
<dd><p>A node that represents an alias from a name to another node.</p>
<p>The value of attribute <em>graphident</em> for this node will be the
value of <em>name</em>, the other <a class="reference internal" href="#modulegraph.modulegraph.Node" title="modulegraph.modulegraph.Node"><tt class="xref py py-class docutils literal"><span class="pre">Node</span></tt></a> attributed are
references to those attributed in <em>node</em>.</p>
</dd></dl>

<dl class="class">
<dt id="modulegraph.modulegraph.BadModule">
<em class="property">class </em><tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">BadModule</tt><big>(</big><em>identifier</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.BadModule" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for nodes that should be ignored for some reason</p>
</dd></dl>

<dl class="class">
<dt id="modulegraph.modulegraph.ExcludedModule">
<em class="property">class </em><tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">ExcludedModule</tt><big>(</big><em>identifier</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.ExcludedModule" title="Permalink to this definition">¶</a></dt>
<dd><p>A module that is explicitly excluded.</p>
</dd></dl>

<dl class="class">
<dt id="modulegraph.modulegraph.MissingModule">
<em class="property">class </em><tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">MissingModule</tt><big>(</big><em>identifier</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.MissingModule" title="Permalink to this definition">¶</a></dt>
<dd><p>A module that is imported but cannot be located.</p>
</dd></dl>

<dl class="class">
<dt id="modulegraph.modulegraph.Script">
<em class="property">class </em><tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">Script</tt><big>(</big><em>filename</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.Script" title="Permalink to this definition">¶</a></dt>
<dd><p>A python script.</p>
<dl class="data">
<dt id="modulegraph.modulegraph.Script.filename">
<tt class="descname">filename</tt><a class="headerlink" href="#modulegraph.modulegraph.Script.filename" title="Permalink to this definition">¶</a></dt>
<dd><p>The filename for the script</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="modulegraph.modulegraph.BaseModule">
<em class="property">class </em><tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">BaseModule</tt><big>(</big><em>name</em><span class="optional">[</span>, <em>filename</em><span class="optional">[</span>, <em>path</em><span class="optional">]</span><span class="optional">]</span><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.BaseModule" title="Permalink to this definition">¶</a></dt>
<dd><p>The base class for actual modules. The <em>name</em> is
the possibly dotted module name, <em>filename</em> is the
filesystem path to the module and <em>path</em> is the
value of <tt class="docutils literal"><span class="pre">__path__</span></tt> for the module.</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">graphident</tt></dt>
<dd><p>The name of the module</p>
</dd></dl>

<dl class="data">
<dt>
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">filename</tt></dt>
<dd><p>The filesystem path to the module.</p>
</dd></dl>

<dl class="data">
<dt id="modulegraph.modulegraph.path">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">path</tt><a class="headerlink" href="#modulegraph.modulegraph.path" title="Permalink to this definition">¶</a></dt>
<dd><p>The value of <tt class="docutils literal"><span class="pre">__path__</span></tt> for this module.</p>
</dd></dl>

<dl class="class">
<dt id="modulegraph.modulegraph.BuiltinModule">
<em class="property">class </em><tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">BuiltinModule</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.BuiltinModule" title="Permalink to this definition">¶</a></dt>
<dd><p>A built-in module (on in <a class="reference external" href="http://docs.python.org/library/sys.html#sys.builtin_module_names" title="(in Python v2.7)"><tt class="xref py py-data docutils literal"><span class="pre">sys.builtin_module_names</span></tt></a>).</p>
</dd></dl>

<dl class="class">
<dt id="modulegraph.modulegraph.SourceModule">
<em class="property">class </em><tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">SourceModule</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.SourceModule" title="Permalink to this definition">¶</a></dt>
<dd><p>A module for which the python source code is available.</p>
</dd></dl>

<dl class="class">
<dt id="modulegraph.modulegraph.CompiledModule">
<em class="property">class </em><tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">CompiledModule</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.CompiledModule" title="Permalink to this definition">¶</a></dt>
<dd><p>A module for which only byte-code is available.</p>
</dd></dl>

<dl class="class">
<dt id="modulegraph.modulegraph.Package">
<em class="property">class </em><tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">Package</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.Package" title="Permalink to this definition">¶</a></dt>
<dd><p>Represents a python package</p>
</dd></dl>

<dl class="class">
<dt id="modulegraph.modulegraph.Extension">
<em class="property">class </em><tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">Extension</tt><big>(</big><em>name</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.Extension" title="Permalink to this definition">¶</a></dt>
<dd><p>A native extension</p>
</dd></dl>

<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">A number of other node types are defined in the module. Those modules aren&#8217;t
used by modulegraph and will be removed in a future version.</p>
</div>
</div>
<div class="section" id="utility-functions">
<h2>Utility functions<a class="headerlink" href="#utility-functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt>
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">find_module</tt><big>(</big><em>name</em><span class="optional">[</span>, <em>path</em><span class="optional">]</span><big>)</big></dt>
<dd><p>A version of <a class="reference external" href="http://docs.python.org/library/imp.html#imp.find_module" title="(in Python v2.7)"><tt class="xref py py-func docutils literal"><span class="pre">imp.find_module()</span></tt></a> that works with zipped packages (and other
<span class="target" id="index-3"></span><a class="pep reference external" href="http://www.python.org/dev/peps/pep-0302"><strong>PEP 302</strong></a> importers).</p>
</dd></dl>

<dl class="function">
<dt id="modulegraph.modulegraph.moduleInfoForPath">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">moduleInfoForPath</tt><big>(</big><em>path</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.moduleInfoForPath" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the module name, readmode and type for the file at <em>path</em>, or
None if it doesn&#8217;t seem to be a valid module (based on its name).</p>
</dd></dl>

<dl class="function">
<dt id="modulegraph.modulegraph.addPackagePath">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">addPackagePath</tt><big>(</big><em>packagename</em>, <em>path</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.addPackagePath" title="Permalink to this definition">¶</a></dt>
<dd><p>Add <em>path</em> to the value of <tt class="docutils literal"><span class="pre">__path__</span></tt> for the package named <em>packagename</em>.</p>
</dd></dl>

<dl class="function">
<dt id="modulegraph.modulegraph.replacePackage">
<tt class="descclassname">modulegraph.modulegraph.</tt><tt class="descname">replacePackage</tt><big>(</big><em>oldname</em>, <em>newname</em><big>)</big><a class="headerlink" href="#modulegraph.modulegraph.replacePackage" title="Permalink to this definition">¶</a></dt>
<dd><p>Rename <em>oldname</em> to <em>newname</em> when it is found by the module finder. This
is used as a workaround for the hack that the <tt class="docutils literal"><span class="pre">_xmlplus</span></tt> package uses
to inject itself in the <tt class="docutils literal"><span class="pre">xml</span></tt> namespace.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#"><tt class="docutils literal"><span class="pre">modulegraph.modulegraph</span></tt> &#8212; Find modules used by a script</a><ul>
<li><a class="reference internal" href="#the-actual-graph">The actual graph</a><ul>
<li><a class="reference internal" href="#mostly-internal-methods">Mostly internal methods</a></li>
</ul>
</li>
<li><a class="reference internal" href="#graph-nodes">Graph nodes</a></li>
<li><a class="reference internal" href="#utility-functions">Utility functions</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="commandline.html"
                        title="previous chapter">Commandline tools</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="find_modules.html"
                        title="next chapter"><tt class="docutils literal docutils literal"><span class="pre">modulegraph.find_modules</span></tt> &#8212; High-level module dependency finding interface</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="_sources/modulegraph.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="find_modules.html" title="modulegraph.find_modules — High-level module dependency finding interface"
             >next</a> |</li>
        <li class="right" >
          <a href="commandline.html" title="Commandline tools"
             >previous</a> |</li>
        <li><a href="index.html">modulegraph 0.10.4 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2010, Ronald Oussoren.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>